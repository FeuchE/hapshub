<div class="events-container">
  <h1>Events</h1>

  <div class="new-event-button">
    <%= link_to "New Event", groups_path, class: "btn btn-primary rounded-5" %>
  </div>

  <div class="event-index-left-padding">
    <%= link_to 'Back', :back, class:"link-text-padding-left" %>
  </div>

  <% if @events.any? %>
    <div class="events-grid">
      <% @events.each do |event| %>
        <div class="event-card">
          <% if event.adventure.present? %>
            <div class="adventure-image">
              <img src="<%= "https://places.googleapis.com/v1/#{event.adventure.photo_resource}/media?maxHeightPx=400&maxWidthPx=400&key=#{ENV["GOOGLE_API_KEY"]}" %>" alt="<%= event.name %>">
            </div>
          <% else %>
            <img src="<%= asset_path "category_images/#{event.category}.jpg" %>">
          <% end %>

          <div class="event-details">
            <h2><%= event.name %></h2>

            <% if event.adventure.present? %>
              <h2><%= event.adventure.name %></h2>
            <% else %>
              <p><%= event.location %></p>
            <% end %>

            <p>
              <strong>Starts:</strong> <%= event.start_time.strftime("%b %d, %Y %l:%M %p") %><br>
              <strong>Ends:</strong> <%= event.end_time.strftime("%b %d, %Y %l:%M %p") %>
            </p>

            <%= link_to 'View Details', event_path(event), class: "btn btn-primary rounded-5" %>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <p class="text-center text-muted mt-4">No events available.</p>
  <% end %>
</div>
